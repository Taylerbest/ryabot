<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèùÔ∏è –ö–∞—Ä—Ç–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞ - 1,000,000 –≥–µ–∫—Ç–∞—Ä–æ–≤</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèùÔ∏è –ö–∞—Ä—Ç–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞</h1>
            <p>–ò—Å—Å–ª–µ–¥—É–π—Ç–µ, —Å—Ç—Ä–æ–π—Ç–µ –∏ —Ä–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å–≤–æ—é —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫—É—é –∏–º–ø–µ—Ä–∏—é!</p>
        </header>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Å—Ç—Ä–æ–≤–∞ -->
        <div class="island-stats">
            <div class="stat-block">
                <div class="stat-number" id="discoveredPlots">0</div>
                <div class="stat-label">–û—Ç–∫—Ä—ã—Ç–æ —É—á–∞—Å—Ç–∫–æ–≤</div>
                <div class="stat-percent" id="discoveredPercent">0%</div>
            </div>
            <div class="stat-block">
                <div class="stat-number" id="exploredPlots">0</div>
                <div class="stat-label">–ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑—É—á–µ–Ω–æ</div>
                <div class="stat-percent" id="exploredPercent">0%</div>
            </div>
            <div class="stat-block">
                <div class="stat-number" id="buildingsPlots">0</div>
                <div class="stat-label">–° –ø–æ—Å—Ç—Ä–æ–π–∫–∞–º–∏</div>
                <div class="stat-percent" id="buildingsPercent">0%</div>
            </div>
            <div class="stat-block">
                <div class="stat-number" id="ownedPlots">0</div>
                <div class="stat-label">–ö—É–ø–ª–µ–Ω–æ –∏–≥—Ä–æ–∫–∞–º–∏</div>
                <div class="stat-percent" id="ownedPercent">0%</div>
            </div>
            <div class="stat-block total">
                <div class="stat-number" id="totalPlots">1,000,000</div>
                <div class="stat-label">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–∫–æ–≤</div>
                <div class="stat-note">100 –≥–µ–∫—Ç–∞—Ä–æ–≤ –∫–∞–∂–¥—ã–π</div>
            </div>
        </div>

        <!-- –õ–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π -->
        <div class="events-feed">
            <div class="events-title">üì° –°–æ–±—ã—Ç–∏—è –æ—Å—Ç—Ä–æ–≤–∞:</div>
            <div class="events-scroll" id="eventsFeed">
                <span class="event-item">üèùÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –æ—Å—Ç—Ä–æ–≤!</span>
            </div>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ–π -->
        <div class="controls">
            <div class="zoom-controls">
                <span id="zoomLevel">100%</span>
                <button id="showGrid">üìã –°–µ—Ç–∫–∞</button>
            </div>

            <div class="filters">
                <select id="filterStatus">
                    <option value="all">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                    <option value="unexplored">–ù–µ–∏–∑—É—á–µ–Ω–Ω—ã–µ</option>
                    <option value="discovered">–û—Ç–∫—Ä—ã—Ç—ã–µ</option>
                    <option value="fully_explored">–ò–∑—É—á–µ–Ω–Ω—ã–µ</option>
                    <option value="owned">–ö—É–ø–ª–µ–Ω–Ω—ã–µ</option>
                    <option value="for_sale">–í –ø—Ä–æ–¥–∞–∂–µ</option>
                </select>
                <select id="filterBonus">
                    <option value="all">–í—Å–µ –±–æ–Ω—É—Å—ã</option>
                    <option value="none">–ë–µ–∑ –±–æ–Ω—É—Å–∞</option>
                    <option value="wheat_yield">–ü—à–µ–Ω–∏—Ü–∞</option>
                    <option value="cow_milk">–ú–æ–ª–æ–∫–æ</option>
                    <option value="iron_mining">–ñ–µ–ª–µ–∑–æ</option>
                    <option value="wood_cutting">–î–µ—Ä–µ–≤–æ</option>
                </select>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="color-box unexplored"></div>
                    <span>–ù–µ–∏–∑—É—á–µ–Ω–Ω—ã–µ</span>
                </div>
                <div class="legend-item">
                    <div class="color-box discovered"></div>
                    <span>–û—Ç–∫—Ä—ã—Ç—ã–µ</span>
                </div>
                <div class="legend-item">
                    <div class="color-box fully-explored"></div>
                    <span>–ò–∑—É—á–µ–Ω–Ω—ã–µ</span>
                </div>
                <div class="legend-item">
                    <div class="color-box owned"></div>
                    <span>–ö—É–ø–ª–µ–Ω–Ω—ã–µ</span>
                </div>
            </div>
        </div>

        <div class="map-container">
            <canvas id="islandCanvas"></canvas>
            <div class="hover-info" id="hoverInfo"></div>
        </div>

        <div class="info">
            <p><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</strong> <span id="currentCoords">–ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç—É</span></p>
            <p><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</strong></p>
            <ul>
                <li>üñ±Ô∏è <strong>–ó—É–º:</strong> –∫–æ–ª–µ—Å–∏–∫–æ –º—ã—à–∏ –∏–ª–∏ –∂–µ—Å—Ç—ã –¥–≤—É–º—è –ø–∞–ª—å—Ü–∞–º–∏</li>
                <li>‚úã <strong>–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ:</strong> –∑–∞–∂–∞—Ç–∞—è –ª–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ –∏–ª–∏ –æ–¥–∏–Ω –ø–∞–ª–µ—Ü</li>
                <li>üëÜ <strong>–ù–∞–≤–∏–≥–∞—Ü–∏—è:</strong> –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫/—Ç–∞–ø –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ç–æ—á–∫–µ</li>
                <li>üìã <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong> –æ–¥–∏–Ω–æ—á–Ω—ã–π –∫–ª–∏–∫/—Ç–∞–ø –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ —É—á–∞—Å—Ç–∫–∞</li>
            </ul>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—á–∞—Å—Ç–∫–∞ -->
    <div id="plotModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>üó∫Ô∏è –£—á–∞—Å—Ç–æ–∫ ‚Ññ <span id="plotId"></span></h2>
            <div class="plot-coords" id="plotCoords"></div>
            
            <div class="plot-sections">
                <div class="plot-section">
                    <h3>üìä –°—Ç–∞—Ç—É—Å</h3>
                    <div class="status-badge" id="plotStatus">–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω</div>
                </div>

                <div class="plot-section">
                    <h3>üî¨ –ò—Å—Ç–æ—Ä–∏—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</h3>
                    <div id="discoveryInfo">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</div>
                </div>

                <div class="plot-section">
                    <h3>üíé –ë–æ–Ω—É—Å—ã</h3>
                    <div id="bonusInfo">–ë–æ–Ω—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω</div>
                </div>

                <div class="plot-section">
                    <h3>üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞</h3>
                    <div id="economicInfo">–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                </div>

                <div class="plot-section">
                    <h3>üèóÔ∏è –ü–æ—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div id="buildingsInfo">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç—Ä–æ–π–∫–∞—Ö</div>
                </div>

                <div class="plot-section">
                    <h3>üëë –í–ª–∞–¥–µ–Ω–∏–µ</h3>
                    <div id="ownerInfo">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ</div>
                </div>

                <div class="plot-section">
                    <h3>üì∏ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</h3>
                    <div class="image-container" id="plotImageContainer">
                        <p style="color: #666; font-style: italic;">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="closeModal" class="btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
